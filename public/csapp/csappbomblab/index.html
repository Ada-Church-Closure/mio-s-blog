<!DOCTYPE html>
<html lang="en" dir="ltr" class="scroll-smooth" data-default-appearance="light"
  data-auto-appearance="false"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=45029&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  
  <meta http-equiv="content-language" content="en" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  
  <title>CSAPP:BombLab &middot; Mio&#39;s Tea Time</title>
  <meta name="title" content="CSAPP:BombLab &middot; Mio&#39;s Tea Time" />
  
  <meta name="description" content="Mio&#39;s Tea Time" />
  
  
  
  <link rel="canonical" href="http://localhost:45029/csapp/csappbomblab/" />
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <link type="text/css" rel="stylesheet" href="/css/main.bundle.min.721003f09449a0912bb62104688e960d177f51b3c09f0e387a1d0e5fc2e5b6c8158a4ea485544ea400f5efb68debb909febd470b6dea83625d5103f116f771be.css"
    integrity="sha512-chAD8JRJoJErtiEEaI6WDRd/UbPAnw44eh0OX8LltsgVik6khVROpAD177aN67kJ/r1HC23qg2JdUQPxFvdxvg==" />
  
  
  <script type="text/javascript" src="/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js"
    integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj&#43;e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <script defer type="text/javascript" id="script-bundle" src="/js/main.bundle.min.65b5de43825ad54a420102c9ddccece1f1015665fe76e5b399ba259e1de29f6c83ac1b3cf77beed3d29e26604dfebf561a8e1db523cb6add0d6acccc9e8f1307.js"
    integrity="sha512-ZbXeQ4Ja1UpCAQLJ3czs4fEBVmX&#43;duWzmbolnh3in2yDrBs893vu09KeJmBN/r9WGo4dtSPLat0NaszMno8TBw==" data-copy="" data-copied=""></script>
  
  
  
  <script src="/lib/zoom/zoom.min.37d2094687372da3f7343a221a470f6b8806f7891aa46a5a03966af7f0ebd38b9fe536cb154e6ad28f006d184b294525a7c4054b6bbb4be62d8b453b42db99bd.js" integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S&#43;Yti0U7QtuZvQ=="></script>
  
  
  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
  <link rel="manifest" href="/site.webmanifest" />
  
  
  
  <meta name="google-site-verification" content="wgfczhyzH3lSC7Nvoty3A1-Ekb1NZsLDiZjGnjb-LbU" />
  
  
  
  
  
  
  <meta property="og:url" content="http://localhost:45029/csapp/csappbomblab/">
  <meta property="og:site_name" content="Mio&#39;s Tea Time">
  <meta property="og:title" content="CSAPP:BombLab">
  <meta property="og:description" content="本期封面是动漫《轻音少女》第一季时唯一律澪之间发生小矛盾的故事，此时，她们三个正在远远的看着mio……
CSAPP:BombLab # [!NOTE]
本文主要参考博客：arthals.ink，如果你要学习方法，你只要看TA写的就可以了，我只看了前两层， 只是做个记录，我认为对于我来说很好的解决问题方式就是写注释(所以我这里有逐行的注释)。">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="csapp">
    <meta property="article:published_time" content="2025-03-09T18:11:55+08:00">
    <meta property="article:modified_time" content="2025-03-09T18:11:55+08:00">
    <meta property="og:image" content="http://localhost:45029/csapp/csappbomblab/featured2.png">

  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:45029/csapp/csappbomblab/featured2.png">
  <meta name="twitter:title" content="CSAPP:BombLab">
  <meta name="twitter:description" content="本期封面是动漫《轻音少女》第一季时唯一律澪之间发生小矛盾的故事，此时，她们三个正在远远的看着mio……
CSAPP:BombLab # [!NOTE]
本文主要参考博客：arthals.ink，如果你要学习方法，你只要看TA写的就可以了，我只看了前两层， 只是做个记录，我认为对于我来说很好的解决问题方式就是写注释(所以我这里有逐行的注释)。">

  
  <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "",
    "name": "CSAPP:BombLab",
    "headline": "CSAPP:BombLab",
    
    "abstract": "\u003cblockquote\u003e\n\u003cp\u003e本期封面是动漫《轻音少女》第一季时唯一律澪之间发生小矛盾的故事，此时，她们三个正在远远的看着mio\u0026hellip;\u0026hellip;\u003c\/p\u003e\u003c\/blockquote\u003e\n\n\n\u003ch1 class=\u0022relative group\u0022\u003eCSAPP:BombLab \n    \u003cdiv id=\u0022csappbomblab\u0022 class=\u0022anchor\u0022\u003e\u003c\/div\u003e\n    \n    \u003cspan\n        class=\u0022absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100\u0022\u003e\n        \u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700\u0022\n            style=\u0022text-decoration-line: none !important;\u0022 href=\u0022#csappbomblab\u0022 aria-label=\u0022Anchor\u0022\u003e#\u003c\/a\u003e\n    \u003c\/span\u003e        \n    \n\u003c\/h1\u003e\n\u003cblockquote\u003e\n\u003cp\u003e[!NOTE]\u003c\/p\u003e\n\u003cp\u003e本文主要参考博客：arthals.ink，如果你要学习方法，你只要看TA写的就可以了，我只看了前两层，    只是做个记录，我认为对于我来说很好的解决问题方式就是写注释(所以我这里有逐行的注释)。\u003c\/p\u003e",
    "inLanguage": "en",
    "url" : "http:\/\/localhost:45029\/csapp\/csappbomblab\/",
    "author" : {
      "@type": "Person",
      "name": "mio"
    },
    "copyrightYear": "2025",
    "dateCreated": "2025-03-09T18:11:55\u002b08:00",
    "datePublished": "2025-03-09T18:11:55\u002b08:00",
    
    "dateModified": "2025-03-09T18:11:55\u002b08:00",
    
    
    
    "mainEntityOfPage": "true",
    "wordCount": "3142"
  }]
  </script>


  
  
  <meta name="author" content="mio" />
  
  
  
  <link href="nunotabashinobu066@gmail.com" rel="me" />
  
  
  
  

<script src="/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js" integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj&#43;KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script>






















  
  



  
  
  <meta name="theme-color"/>
  
  
  
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script>

    const firebaseConfig = {
      apiKey: "AIzaSyCswaKAVVuCYg9UesFR0aQOkre1tVIv5co",
      authDomain: "AIzaSyCswaKAVVuCYg9UesFR0aQOkre1tVIv5co",
      projectId: "mio-s-app",
      storageBucket: "mio-s-app.firebasestorage.app",
      messagingSenderId: "491061548873",
      appId: "1:491061548873:web:9de625ab436bdfd1e3ec98",
      measurementId: "G-EH5EXVC7V4"
    };

    var app = firebase.initializeApp(firebaseConfig);
    var db = firebase.firestore();
    var auth = firebase.auth();

  </script>
  
  
</head>
<body
  class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32 scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600">
  <div id="the-top" class="absolute flex self-center">
    <a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600"
      href="#main-content"><span
        class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>Skip to main content</a>
  </div>
  
  
  <div style="padding-left:0;padding-right:0;padding-top:2px;padding-bottom:3px"
    class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start gap-x-3">
    
    
    
    <div>
        <a href="/" class="flex">
            <span class="sr-only">Mio&rsquo;s Tea Time</span>

            
            <img src="/img/logo.png" width="342" height="318"
                class="logo max-h-[5rem] max-w-[5rem] object-scale-down object-left nozoom" alt="Mio&#39;s Tea Time" />
            

        </a>
    </div>
    
    <div class="flex flex-1 items-center justify-between">
        <nav class="flex space-x-3">

            
            <a href="/" class="text-base font-medium text-gray-500 hover:text-gray-900">Mio&rsquo;s Tea Time</a>
            

        </nav>
        <nav class="hidden md:flex items-center gap-x-5 md:ml-12 h-12">

            
            
             
  <div>
  <div class="cursor-pointer flex items-center nested-menu">
    
    <a  class="text-base font-medium text-gray-500 hover:text-primary-600 dark:hover:text-primary-400" title="">
      Class
    </a>
    <span>
      

  <span class="relative block icon">
    <svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 20 20"
  fill="currentColor"
  aria-hidden="true"
>
  <path
    fill-rule="evenodd"
    d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
    clip-rule="evenodd"
  />
</svg>

  </span>


    </span>
  </div>
  <div class="absolute menuhide">
    <div class="pt-2 p-5 mt-2 rounded-xl backdrop-blur shadow-2xl">
      <div class="flex flex-col space-y-3">
        
        <a href="/notes/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
          
          <p class="text-sm font-sm" title="">
            学校课程笔记
          </p>
        </a>
        
        <a href="/csapp/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
          
          <p class="text-sm font-sm" title="">
            CS:APP
          </p>
        </a>
        
      </div>
    </div>
  </div>
</div>



            
            
  <a href="/tech/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="Tech">
        Tech
    </p>
</a>



            
            
  <a href="/thinking/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="Thinking">
        Thinking
    </p>
</a>



            
            
  <a href="/life/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="Life">
        せいかつ
    </p>
</a>



            
            
  <a href="/author/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="">
        Author
    </p>
</a>



            
            
  <a href="https://github.com/Ada-Church-Closure"  target="_blank"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <span >
        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>

  </span>


    </span>
    
    <p class="text-base font-medium" title="">
        
    </p>
</a>



            
            

            


            
            <button id="search-button" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="">
                

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


            </button>
            


            
            
            <div
                class=" flex items-center">
                <button id="appearance-switcher" aria-label="Dark mode switcher" type="button" class="text-base hover:text-primary-600 dark:hover:text-primary-400">
                    <div class="flex items-center justify-center dark:hidden">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                    </div>
                    <div class="items-center justify-center hidden dark:flex">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                    </div>
                </button>
            </div>
            

        </nav>
        <div class="flex md:hidden items-center gap-x-5 md:ml-12 h-12">

            <span></span>

            


            
            <button id="search-button-mobile" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="">
                

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


            </button>
            

            
            
            <button id="appearance-switcher-mobile" aria-label="Dark mode switcher" type="button" class="text-base hover:text-primary-600 dark:hover:text-primary-400 ltr:mr-1 rtl:ml-1">
                <div class="flex items-center justify-center dark:hidden">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                </div>
                <div class="items-center justify-center hidden dark:flex">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                </div>
            </button>
            

        </div>
    </div>
    <div class="-my-2 md:hidden">

        <label id="menu-button" class="block">
            
            <div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400">
                

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>

  </span>


            </div>
            <div id="menu-wrapper" style="padding-top:5px;"
                class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50">
                <ul
                    class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl">

                    <li id="menu-close-button">
                        <span
                            class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>

</span>
                    </li>

                    

                     
  <li class="mt-1">
    <a href="" class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            Class
        </p>
        <span>
            

  <span class="relative block icon">
    <svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 20 20"
  fill="currentColor"
  aria-hidden="true"
>
  <path
    fill-rule="evenodd"
    d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
    clip-rule="evenodd"
  />
</svg>

  </span>


        </span>
    </a>
</li>

<li class="mt-1">
    <a href="/notes/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-sm font-small" title="">
            学校课程笔记
        </p>
    </a>
</li>

<li class="mt-1">
    <a href="/csapp/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-sm font-small" title="">
            CS:APP
        </p>
    </a>
</li>

<li class="mb-2"></li>




                    

                    
  <li class="mt-1">
    <a href="/tech/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="Tech">
            Tech
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="/thinking/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="Thinking">
            Thinking
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="/life/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="Life">
            せいかつ
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="/author/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            Author
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="https://github.com/Ada-Church-Closure"  target="_blank"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <div >
            

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>

  </span>


        </div>
        
        <p class="text-bg font-bg" title="">
            
        </p>
    </a>
</li>




                    

                </ul>
                
                

            </div>
        </label>
    </div>
</div>





  
  <div class="relative flex flex-col grow">
    <main id="main-content" class="grow">
      


<article>
  

  <header id="single_header" class="mt-5 max-w-prose">
    
    <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
      CSAPP:BombLab
    </h1>
    <div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
      





  
  







  





  



  



  



  



  







<div class="flex flex-row flex-wrap items-center">
  
  
  <time datetime="2025-03-09T18:11:55&#43;08:00">9 March 2025</time><span class="px-2 text-primary-500">&middot;</span><span>3142 words</span><span class="px-2 text-primary-500">&middot;</span><span title="Reading time">15 mins</span><span class="px-2 text-primary-500">&middot;</span><span>
  
  
    
    
      
      
        
        
      
      
    
  
  <span id="views_csapp/CSAPP:BombLab/index.md" class="animate-pulse inline-block text-transparent max-h-3 rounded-full mt-[-2px] align-middle bg-neutral-300 dark:bg-neutral-400" title="views">loading</span>
  <span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
<path fill="currentColor" d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg>
  </span>

</span>
</span><span class="px-2 text-primary-500">&middot;</span><span>
  
  
    
    
      
      
        
        
      
      
    
  
  <span id="likes_csapp/CSAPP:BombLab/index.md"
    class="animate-pulse inline-block text-transparent max-h-3 rounded-full mt-[-2px] align-middle bg-neutral-300 dark:bg-neutral-400"
    title="likes">loading</span>
  <span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
<path fill="currentColor" d="M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/></svg>
  </span>

</span>
</span><span class="px-2 text-primary-500">&middot;</span><span>
    <button id="button_likes"
        class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400"
        onclick="process_article()">
        <span id="button_likes_heart" style="display:none" class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
<path fill="currentColor" d="M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/></svg>
  </span>

 </span>
        <span id="button_likes_emtpty_heart" class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
<path fill="currentColor" d="M244 84L255.1 96L267.1 84.02C300.6 51.37 347 36.51 392.6 44.1C461.5 55.58 512 115.2 512 185.1V190.9C512 232.4 494.8 272.1 464.4 300.4L283.7 469.1C276.2 476.1 266.3 480 256 480C245.7 480 235.8 476.1 228.3 469.1L47.59 300.4C17.23 272.1 0 232.4 0 190.9V185.1C0 115.2 50.52 55.58 119.4 44.1C164.1 36.51 211.4 51.37 244 84C243.1 84 244 84.01 244 84L244 84zM255.1 163.9L210.1 117.1C188.4 96.28 157.6 86.4 127.3 91.44C81.55 99.07 48 138.7 48 185.1V190.9C48 219.1 59.71 246.1 80.34 265.3L256 429.3L431.7 265.3C452.3 246.1 464 219.1 464 190.9V185.1C464 138.7 430.4 99.07 384.7 91.44C354.4 86.4 323.6 96.28 301.9 117.1L255.1 163.9z"/></svg>
  </span>

</span>
        <span id="button_likes_text">&nbsp;Like</span>
    </button>
</span>
  

  
  
</div>








    </div>

    
    
    
    
    

    

    

  </header>
  
  <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">
    
     <div
      class="order-first lg:ml-auto px-0 lg:order-last ltr:lg:pl-8 rtl:lg:pr-8">
      <div class="toc ltr:pl-5 rtl:pr-5 print:hidden lg:sticky lg:top-10">

         <details open id="TOCView"
  class="toc-right mt-0 overflow-y-scroll overscroll-contain scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600 rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 hidden lg:block">
  <summary
    class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Table of Contents
  </summary>
  <div
    class="min-w-[220px] py-2 border-dotted ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#phase1">phase1:</a></li>
    <li><a href="#phase2">phase2:</a></li>
    <li><a href="#phase3">phase3:</a></li>
    <li><a href="#phase4">phase4:</a></li>
    <li><a href="#phase5">phase5:</a></li>
    <li><a href="#phase6">phase6:</a></li>
  </ul>
</nav>
  </div>
</details>
<details class="toc-inside mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 lg:hidden">
  <summary
    class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    Table of Contents
  </summary>
  <div
    class="py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#phase1">phase1:</a></li>
    <li><a href="#phase2">phase2:</a></li>
    <li><a href="#phase3">phase3:</a></li>
    <li><a href="#phase4">phase4:</a></li>
    <li><a href="#phase5">phase5:</a></li>
    <li><a href="#phase6">phase6:</a></li>
  </ul>
</nav>
  </div>
</details>

<script>

  var margin = 200;
  var marginError = 50;

  (function () {
    var $window = $(window);
    var $toc = $('#TOCView');
    var tocHeight = $toc.height();

    function onResize() {
      var windowAndMarginHeight = $window.height() - margin;
      if(tocHeight >= windowAndMarginHeight) {
        $toc.css("overflow-y", "scroll")
        $toc.css("max-height", (windowAndMarginHeight + marginError) + "px")
      } else {
        $toc.css("overflow-y", "hidden")
        $toc.css("max-height", "9999999px")
      }
    }

    $window.on('resize', onResize);
    $(document).ready(onResize);
  })();



</script>
   </div>
      </div>
      

      <div class="min-w-0 min-h-0 max-w-fit">
        
        


        <div class="article-content max-w-prose mb-20">
          <blockquote>
<p>本期封面是动漫《轻音少女》第一季时唯一律澪之间发生小矛盾的故事，此时，她们三个正在远远的看着mio&hellip;&hellip;</p></blockquote>


<h1 class="relative group">CSAPP:BombLab 
    <div id="csappbomblab" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#csappbomblab" aria-label="Anchor">#</a>
    </span>        
    
</h1>
<blockquote>
<p>[!NOTE]</p>
<p>本文主要参考博客：arthals.ink，如果你要学习方法，你只要看TA写的就可以了，我只看了前两层，    只是做个记录，我认为对于我来说很好的解决问题方式就是写注释(所以我这里有逐行的注释)。</p></blockquote>
<p>gdb<strong>指令</strong>：</p>
<pre tabindex="0"><code class="language-assembly" data-lang="assembly">p $rax  			# 打印寄存器 rax 的值
p $rsp  			# 打印栈指针的值
p/x $rsp  			# 打印栈指针的值，以十六进制显示
p/d $rsp  			# 打印栈指针的值，以十进制显示

x/2x $rsp  			# 以十六进制格式查看栈指针 %rsp 指向的内存位置 M[%rsp] 开始的两个单位。
x/2d $rsp 			# 以十进制格式查看栈指针 %rsp 指向的内存位置 M[%rsp] 开始的两个单位。
x/2c $rsp 			# 以字符格式查看栈指针 %rsp 指向的内存位置 M[%rsp] 开始的两个单位。
x/s $rsp 			# 把栈指针指向的内存位置 M[%rsp] 当作 C 风格字符串来查看。

x/b $rsp 			# 检查栈指针指向的内存位置 M[%rsp] 开始的 1 字节。
x/h $rsp 			# 检查栈指针指向的内存位置 M[%rsp] 开始的 2 字节（半字）。
x/w $rsp 			# 检查栈指针指向的内存位置 M[%rsp] 开始的 4 字节（字）。
x/g $rsp 			# 检查栈指针指向的内存位置 M[%rsp] 开始的 8 字节（双字）。

info registers  	# 打印所有寄存器的值
info breakpoints  	# 打印所有断点的信息

delete breakpoints 1  # 删除第一个断点，可以简写为 d 1
</code></pre>

<h2 class="relative group">phase1: 
    <div id="phase1" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#phase1" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>比较简单，就是对比一下字符串，熟悉一下。</p>
<pre tabindex="0"><code class="language-assembly" data-lang="assembly">00000000000015ab &lt;phase_1&gt;:
    15ab:	f3 0f 1e fa          	endbr64 
    15af:	48 83 ec 08          	sub    $0x8,%rsp
    15b3:	48 8d 35 f2 1a 00 00 	lea    0x1af2(%rip),%rsi        # 这很简单，你只要查看rsi里面存放了什么东西就可以
    15ba:	e8 f3 05 00 00       	call   1bb2 &lt;strings_not_equal&gt;
    15bf:	85 c0                	test   %eax,%eax
    15c1:	75 05                	jne    15c8 &lt;phase_1+0x1d&gt;
    15c3:	48 83 c4 08          	add    $0x8,%rsp
    15c7:	c3                   	ret    
    15c8:	e8 f9 06 00 00       	call   1cc6 &lt;explode_bomb&gt;
    15cd:	eb f4                	jmp    15c3 &lt;phase_1+0x18&gt;
</code></pre>

<h2 class="relative group">phase2: 
    <div id="phase2" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#phase2" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>先看phase_2的代码，这是典型的循环</p>
<pre tabindex="0"><code class="language-assembly" data-lang="assembly">00000000000015cf &lt;phase_2&gt;:
    15cf:	f3 0f 1e fa          	endbr64                         # 用来防止ROP攻击 
    15d3:	55                   	push   %rbp                     # 两个局部变量
    15d4:	53                   	push   %rbx
    15d5:	48 83 ec 28          	sub    $0x28,%rsp               # 分配了40个字节
    15d9:	64 48 8b 04 25 28 00 	mov    %fs:0x28,%rax            # 金丝雀值，用来防止恶意修改
    15e0:	00 00 
    15e2:	48 89 44 24 18       	mov    %rax,0x18(%rsp)          # 把金丝雀值保存起来，这样被修改的时候就会提醒
    15e7:	31 c0                	xor    %eax,%eax                # ???
    15e9:	48 89 e6             	mov    %rsp,%rsi                # 栈指针的值赋给了rsi
    15ec:	e8 2d 07 00 00       	call   1d1e &lt;read_six_numbers&gt;  # 调用一个读取6个数字的函数
    15f1:	83 3c 24 01          	cmpl   $0x1,(%rsp)              # 第一个数字为1
    15f5:	75 0a                	jne    1601 &lt;phase_2+0x32&gt;
    15f7:	48 89 e3             	mov    %rsp,%rbx                # rbx为当前栈顶的地址
    15fa:	48 8d 6c 24 14       	lea    0x14(%rsp),%rbp          # rbp存放rsp + 20bytes的地址 0 4 8 12 16 20刚好六个数字用栈传递
    15ff:	eb 10                	jmp    1611 &lt;phase_2+0x42&gt;      # 无条件跳转1611
    1601:	e8 c0 06 00 00       	call   1cc6 &lt;explode_bomb&gt;
    1606:	eb ef                	jmp    15f7 &lt;phase_2+0x28&gt;
    1608:	48 83 c3 04          	add    $0x4,%rbx                # 相等的情况下考察第二个参数的情况
    160c:	48 39 eb             	cmp    %rbp,%rbx                # 循环终止条件
    160f:	74 10                	je     1621 &lt;phase_2+0x52&gt;
    1611:	8b 03                	mov    (%rbx),%eax              # 取第一个参数到eax
    1613:	01 c0                	add    %eax,%eax                # eax = eax * 2
    1615:	39 43 04             	cmp    %eax,0x4(%rbx)           # 和第二个参数作比较
    1618:	74 ee                	je     1608 &lt;phase_2+0x39&gt;      # 相等继续，不相等爆炸
    161a:	e8 a7 06 00 00       	call   1cc6 &lt;explode_bomb&gt;
    161f:	eb e7                	jmp    1608 &lt;phase_2+0x39&gt;
    1621:	48 8b 44 24 18       	mov    0x18(%rsp),%rax
    1626:	64 48 2b 04 25 28 00 	sub    %fs:0x28,%rax
    162d:	00 00 
    162f:	75 07                	jne    1638 &lt;phase_2+0x69&gt;
    1631:	48 83 c4 28          	add    $0x28,%rsp
    1635:	5b                   	pop    %rbx
    1636:	5d                   	pop    %rbp
    1637:	c3                   	ret    
    1638:	e8 13 fc ff ff       	call   1250 &lt;__stack_chk_fail@plt&gt;
</code></pre><p>再看它调用的读取六个数字的function</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="line"><span class="cl"><span class="err">0000000000001</span><span class="nf">d1e</span> <span class="err">&lt;</span><span class="no">read_six_numbers</span><span class="err">&gt;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="err">1</span><span class="nl">d1e:</span>	<span class="nf">f3</span> <span class="mi">0</span><span class="no">f</span> <span class="mi">1</span><span class="no">e</span> <span class="no">fa</span>          	<span class="no">endbr64</span> 
</span></span><span class="line"><span class="cl">    <span class="mi">1</span><span class="no">d22</span><span class="p">:</span>	<span class="mi">48</span> <span class="mi">83</span> <span class="no">ec</span> <span class="mi">08</span>          	<span class="no">sub</span>    <span class="no">$0x8</span><span class="p">,</span><span class="nv">%rsp</span>                <span class="c1"># 再分配8个字节
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">1</span><span class="nl">d26:</span>	<span class="err">48</span> <span class="err">89</span> <span class="nf">f2</span>             	<span class="no">mov</span>    <span class="nv">%rsi</span><span class="p">,</span><span class="nv">%rdx</span>                <span class="c1"># 记住rsi是上一层栈顶的位置放到rdx这里
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">1</span><span class="nl">d29:</span>	<span class="err">48</span> <span class="err">8</span><span class="nf">d</span> <span class="mi">4</span><span class="no">e</span> <span class="mi">04</span>          	<span class="no">lea</span>    <span class="mi">0x4</span><span class="p">(</span><span class="nv">%rsi</span><span class="p">),</span><span class="nv">%rcx</span>           <span class="c1"># 把这些参数用寄存器向下一个sscanf传递
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">1</span><span class="nl">d2d:</span>	<span class="err">48</span> <span class="err">8</span><span class="nf">d</span> <span class="mi">46</span> <span class="mi">14</span>          	<span class="no">lea</span>    <span class="mi">0x14</span><span class="p">(</span><span class="nv">%rsi</span><span class="p">),</span><span class="nv">%rax</span>
</span></span><span class="line"><span class="cl">    <span class="err">1</span><span class="nl">d31:</span>	<span class="err">50</span>                   	<span class="nf">push</span>   <span class="nv">%rax</span>
</span></span><span class="line"><span class="cl">    <span class="err">1</span><span class="nl">d32:</span>	<span class="err">48</span> <span class="err">8</span><span class="nf">d</span> <span class="mi">46</span> <span class="mi">10</span>          	<span class="no">lea</span>    <span class="mi">0x10</span><span class="p">(</span><span class="nv">%rsi</span><span class="p">),</span><span class="nv">%rax</span>
</span></span><span class="line"><span class="cl">    <span class="err">1</span><span class="nl">d36:</span>	<span class="err">50</span>                   	<span class="nf">push</span>   <span class="nv">%rax</span>
</span></span><span class="line"><span class="cl">    <span class="err">1</span><span class="nl">d37:</span>	<span class="err">4</span><span class="nf">c</span> <span class="mi">8</span><span class="no">d</span> <span class="mi">4</span><span class="no">e</span> <span class="mi">0</span><span class="no">c</span>          	<span class="no">lea</span>    <span class="mi">0xc</span><span class="p">(</span><span class="nv">%rsi</span><span class="p">),</span><span class="nv">%r9</span>
</span></span><span class="line"><span class="cl">    <span class="err">1</span><span class="nl">d3b:</span>	<span class="err">4</span><span class="nf">c</span> <span class="mi">8</span><span class="no">d</span> <span class="mi">46</span> <span class="mi">08</span>          	<span class="no">lea</span>    <span class="mi">0x8</span><span class="p">(</span><span class="nv">%rsi</span><span class="p">),</span><span class="nv">%r8</span>
</span></span><span class="line"><span class="cl">    <span class="err">1</span><span class="nl">d3f:</span>	<span class="err">48</span> <span class="err">8</span><span class="nf">d</span> <span class="mi">35</span> <span class="no">b6</span> <span class="mi">15</span> <span class="mi">00</span> <span class="mi">00</span> 	<span class="no">lea</span>    <span class="mi">0x15b6</span><span class="p">(</span><span class="nv">%rip</span><span class="p">),</span><span class="nv">%rsi</span>        <span class="c1"># 32fc &lt;array.0+0x1fc&gt; 这里应该是我们输入的数字 int sscanf(const char *str, const char *format, ...);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">1</span><span class="nl">d46:</span>	<span class="nf">b8</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">mov</span>    <span class="no">$0x0</span><span class="p">,</span><span class="nv">%eax</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># 分析一下sscanf的参数 rdi:就是我们输入的string,rsi是格式,就是&#34;%d %d %d %d %d %d&#34;,rdx是第一个数,rcx是第二个数,r8是第三个数,r9是第四个数,现在寄存器不够用，用栈传递参数，并且是从右向左的这就很好理解了
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">1</span><span class="nl">d4b:</span>	<span class="nf">e8</span> <span class="no">b0</span> <span class="no">f5</span> <span class="no">ff</span> <span class="no">ff</span>       	<span class="no">call</span>   <span class="mh">1300</span> <span class="p">&lt;</span><span class="no">__isoc99_sscanf@plt</span><span class="p">&gt;</span> <span class="c1">#这里要调用sscanf函数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">1</span><span class="nl">d50:</span>	<span class="err">48</span> <span class="err">83</span> <span class="nf">c4</span> <span class="mi">10</span>          	<span class="no">add</span>    <span class="no">$0x10</span><span class="p">,</span><span class="nv">%rsp</span>
</span></span><span class="line"><span class="cl">    <span class="err">1</span><span class="nl">d54:</span>	<span class="err">83</span> <span class="nf">f8</span> <span class="mi">05</span>             	<span class="no">cmp</span>    <span class="no">$0x5</span><span class="p">,</span><span class="nv">%eax</span>
</span></span><span class="line"><span class="cl">    <span class="err">1</span><span class="nl">d57:</span>	<span class="err">7</span><span class="nf">e</span> <span class="mi">05</span>                	<span class="no">jle</span>    <span class="mh">1d5e</span> <span class="p">&lt;</span><span class="no">read_six_numbers</span><span class="p">+</span><span class="mi">0x40</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">1</span><span class="nl">d59:</span>	<span class="err">48</span> <span class="err">83</span> <span class="nf">c4</span> <span class="mi">08</span>          	<span class="no">add</span>    <span class="no">$0x8</span><span class="p">,</span><span class="nv">%rsp</span>
</span></span><span class="line"><span class="cl">    <span class="err">1</span><span class="nl">d5d:</span>	<span class="nf">c3</span>                   	<span class="no">ret</span>    
</span></span><span class="line"><span class="cl">    <span class="mi">1</span><span class="no">d5e</span><span class="p">:</span>	<span class="no">e8</span> <span class="mi">63</span> <span class="no">ff</span> <span class="no">ff</span> <span class="no">ff</span>       	<span class="no">call</span>   <span class="mh">1cc6</span> <span class="p">&lt;</span><span class="no">explode_bomb</span><span class="p">&gt;</span>
</span></span></code></pre></div>

<h2 class="relative group">phase3: 
    <div id="phase3" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#phase3" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>本层就是关于一些条件的判断(大概就是switch语句)（理解提升了，之前自己肯定没办法做出来的）：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-asm" data-lang="asm"><span class="line"><span class="cl"><span class="err">000000000000163</span><span class="nf">d</span> <span class="err">&lt;</span><span class="no">phase_3</span><span class="err">&gt;</span><span class="p">:</span>                                         <span class="c1"># 提醒是关于switch语句,不是哥们是否有些太长了
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">163</span><span class="nl">d:</span>	<span class="nf">f3</span> <span class="mi">0</span><span class="no">f</span> <span class="mi">1</span><span class="no">e</span> <span class="no">fa</span>          	<span class="no">endbr64</span>                         <span class="c1"># 我们按照线性的方法先走一遍程序
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">1641:</span>	<span class="err">48</span> <span class="err">83</span> <span class="nf">ec</span> <span class="mi">28</span>          	<span class="no">sub</span>    <span class="no">$0x28</span><span class="p">,</span><span class="nv">%rsp</span>               <span class="c1"># 分配了40个字节
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">1645:</span>	<span class="err">64</span> <span class="err">48</span> <span class="err">8</span><span class="nf">b</span> <span class="mi">04</span> <span class="mi">25</span> <span class="mi">28</span> <span class="mi">00</span> 	<span class="no">mov</span>    <span class="nv">%fs</span><span class="p">:</span><span class="mi">0x28</span><span class="p">,</span><span class="nv">%rax</span>            <span class="c1"># 金丝雀值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">164</span><span class="nl">c:</span>	<span class="err">00</span> <span class="err">00</span> 
</span></span><span class="line"><span class="cl">    <span class="err">164</span><span class="nl">e:</span>	<span class="err">48</span> <span class="err">89</span> <span class="err">44</span> <span class="err">24</span> <span class="err">18</span>       	<span class="nf">mov</span>    <span class="nv">%rax</span><span class="p">,</span><span class="mi">0x18</span><span class="p">(</span><span class="nv">%rsp</span><span class="p">)</span>          <span class="c1"># 金丝雀值放在24个字节开始的位置
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">1653:</span>	<span class="err">31</span> <span class="nf">c0</span>                	<span class="no">xor</span>    <span class="nv">%eax</span><span class="p">,</span><span class="nv">%eax</span>                <span class="c1"># 检查
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">1655:</span>	<span class="err">48</span> <span class="err">8</span><span class="nf">d</span> <span class="mi">4</span><span class="no">c</span> <span class="mi">24</span> <span class="mi">0</span><span class="no">f</span>       	<span class="no">lea</span>    <span class="mi">0xf</span><span class="p">(</span><span class="nv">%rsp</span><span class="p">),</span><span class="nv">%rcx</span>           <span class="c1"># rcx = rsp + 15 占一个字节 第四个参数 a2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">165</span><span class="nl">a:</span>	<span class="err">48</span> <span class="err">8</span><span class="nf">d</span> <span class="mi">54</span> <span class="mi">24</span> <span class="mi">10</span>       	<span class="no">lea</span>    <span class="mi">0x10</span><span class="p">(</span><span class="nv">%rsp</span><span class="p">),</span><span class="nv">%rdx</span>          <span class="c1"># rdx = rsp + 16 占四个字节 第三个参数 a1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">165</span><span class="nl">f:</span>	<span class="err">4</span><span class="nf">c</span> <span class="mi">8</span><span class="no">d</span> <span class="mi">44</span> <span class="mi">24</span> <span class="mi">14</span>       	<span class="no">lea</span>    <span class="mi">0x14</span><span class="p">(</span><span class="nv">%rsp</span><span class="p">),</span><span class="nv">%r8</span>           <span class="c1"># r8 = rsp + 20  占四个字节 第五个参数 a3
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">1664:</span>	<span class="err">48</span> <span class="err">8</span><span class="nf">d</span> <span class="mi">35</span> <span class="mi">5</span><span class="no">e</span> <span class="mi">1</span><span class="no">a</span> <span class="mi">00</span> <span class="mi">00</span> 	<span class="no">lea</span>    <span class="mi">0x1a5e</span><span class="p">(</span><span class="nv">%rip</span><span class="p">),</span><span class="nv">%rsi</span>        <span class="c1"># 30c9 &lt;_IO_stdin_used+0xc9&gt; 这里的rsi是&#34;%d %c %d&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">166</span><span class="nl">b:</span>	<span class="nf">e8</span> <span class="mi">90</span> <span class="no">fc</span> <span class="no">ff</span> <span class="no">ff</span>       	<span class="no">call</span>   <span class="mh">1300</span> <span class="p">&lt;</span><span class="no">__isoc99_sscanf@plt</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">1670:</span>	<span class="err">83</span> <span class="nf">f8</span> <span class="mi">02</span>             	<span class="no">cmp</span>    <span class="no">$0x2</span><span class="p">,</span><span class="nv">%eax</span>                <span class="c1"># sscanf的返回值是读取的参数的个数,若参数小于2错
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">1673:</span>	<span class="err">7</span><span class="nf">e</span> <span class="mi">20</span>                	<span class="no">jle</span>    <span class="mh">1695</span> <span class="p">&lt;</span><span class="no">phase_3</span><span class="p">+</span><span class="mi">0x58</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">1675:</span>	<span class="err">83</span> <span class="err">7</span><span class="nf">c</span> <span class="mi">24</span> <span class="mi">10</span> <span class="mi">07</span>       	<span class="no">cmpl</span>   <span class="no">$0x7</span><span class="p">,</span><span class="mi">0x10</span><span class="p">(</span><span class="nv">%rsp</span><span class="p">)</span>          <span class="c1"># a1大于7就爆炸
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">167</span><span class="nl">a:</span>	<span class="err">0</span><span class="nf">f</span> <span class="mi">87</span> <span class="mi">0</span><span class="no">a</span> <span class="mi">01</span> <span class="mi">00</span> <span class="mi">00</span>    	<span class="no">ja</span>     <span class="mh">178a</span> <span class="p">&lt;</span><span class="no">phase_3</span><span class="p">+</span><span class="mi">0x14d</span><span class="p">&gt;</span>     
</span></span><span class="line"><span class="cl">    <span class="mi">1680</span><span class="p">:</span>	<span class="mi">8</span><span class="no">b</span> <span class="mi">44</span> <span class="mi">24</span> <span class="mi">10</span>          	<span class="no">mov</span>    <span class="mi">0x10</span><span class="p">(</span><span class="nv">%rsp</span><span class="p">),</span><span class="nv">%eax</span>          <span class="c1"># rax = a1(我们先假设a1 = 6)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">1684:</span>	<span class="err">48</span> <span class="err">8</span><span class="nf">d</span> <span class="mi">15</span> <span class="mi">55</span> <span class="mi">1</span><span class="no">a</span> <span class="mi">00</span> <span class="mi">00</span> 	<span class="no">lea</span>    <span class="mi">0x1a55</span><span class="p">(</span><span class="nv">%rip</span><span class="p">),</span><span class="nv">%rdx</span>        <span class="c1"># 30e0 &lt;_IO_stdin_used+0xe0&gt; rdx中加载了一个-68?
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">168</span><span class="nl">b:</span>	<span class="err">48</span> <span class="err">63</span> <span class="err">04</span> <span class="err">82</span>          	<span class="nf">movslq</span> <span class="p">(</span><span class="nv">%rdx</span><span class="p">,</span><span class="nv">%rax</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="nv">%rax</span>       <span class="c1"># rax = 4 * rax + rdx 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">168</span><span class="nl">f:</span>	<span class="err">48</span> <span class="err">01</span> <span class="nf">d0</span>             	<span class="no">add</span>    <span class="nv">%rdx</span><span class="p">,</span><span class="nv">%rax</span>                <span class="c1"># rax = rax + rdx(可能是跳表位置的计算？)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">1692:</span>	<span class="err">3</span><span class="nf">e</span> <span class="no">ff</span> <span class="no">e0</span>             	<span class="no">notrack</span> <span class="no">jmp</span> <span class="p">*</span><span class="nv">%rax</span>               <span class="c1"># 其作用是 跳转到 RAX 寄存器存储的地址，并且不记录 return address 到 影子调用栈（Shadow Stack
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">1695:</span>	<span class="nf">e8</span> <span class="mi">2</span><span class="no">c</span> <span class="mi">06</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">call</span>   <span class="mh">1cc6</span> <span class="p">&lt;</span><span class="no">explode_bomb</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">169</span><span class="nl">a:</span>	<span class="nf">eb</span> <span class="no">d9</span>                	<span class="no">jmp</span>    <span class="mh">1675</span> <span class="p">&lt;</span><span class="no">phase_3</span><span class="p">+</span><span class="mi">0x38</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">169</span><span class="nl">c:</span>	<span class="nf">b8</span> <span class="mi">77</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">mov</span>    <span class="no">$0x77</span><span class="p">,</span><span class="nv">%eax</span>
</span></span><span class="line"><span class="cl">    <span class="err">16</span><span class="nl">a1:</span>	<span class="err">81</span> <span class="err">7</span><span class="nf">c</span> <span class="mi">24</span> <span class="mi">14</span> <span class="no">a8</span> <span class="mi">01</span> <span class="mi">00</span> 	<span class="no">cmpl</span>   <span class="no">$0x1a8</span><span class="p">,</span><span class="mi">0x14</span><span class="p">(</span><span class="nv">%rsp</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="err">16</span><span class="nl">a8:</span>	<span class="err">00</span> 
</span></span><span class="line"><span class="cl">    <span class="err">16</span><span class="nl">a9:</span>	<span class="err">0</span><span class="nf">f</span> <span class="mi">84</span> <span class="no">e5</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span>    	<span class="no">je</span>     <span class="mh">1794</span> <span class="p">&lt;</span><span class="no">phase_3</span><span class="p">+</span><span class="mi">0x157</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">16</span><span class="nl">af:</span>	<span class="nf">e8</span> <span class="mi">12</span> <span class="mi">06</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">call</span>   <span class="mh">1cc6</span> <span class="p">&lt;</span><span class="no">explode_bomb</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">16</span><span class="nl">b4:</span>	<span class="nf">b8</span> <span class="mi">77</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">mov</span>    <span class="no">$0x77</span><span class="p">,</span><span class="nv">%eax</span>
</span></span><span class="line"><span class="cl">    <span class="err">16</span><span class="nl">b9:</span>	<span class="nf">e9</span> <span class="no">d6</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">jmp</span>    <span class="mh">1794</span> <span class="p">&lt;</span><span class="no">phase_3</span><span class="p">+</span><span class="mi">0x157</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">16</span><span class="nl">be:</span>	<span class="nf">b8</span> <span class="mi">70</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">mov</span>    <span class="no">$0x70</span><span class="p">,</span><span class="nv">%eax</span>
</span></span><span class="line"><span class="cl">    <span class="err">16</span><span class="nl">c3:</span>	<span class="err">81</span> <span class="err">7</span><span class="nf">c</span> <span class="mi">24</span> <span class="mi">14</span> <span class="no">bc</span> <span class="mi">00</span> <span class="mi">00</span> 	<span class="no">cmpl</span>   <span class="no">$0xbc</span><span class="p">,</span><span class="mi">0x14</span><span class="p">(</span><span class="nv">%rsp</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="err">16</span><span class="nl">ca:</span>	<span class="err">00</span> 
</span></span><span class="line"><span class="cl">    <span class="err">16</span><span class="nl">cb:</span>	<span class="err">0</span><span class="nf">f</span> <span class="mi">84</span> <span class="no">c3</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span>    	<span class="no">je</span>     <span class="mh">1794</span> <span class="p">&lt;</span><span class="no">phase_3</span><span class="p">+</span><span class="mi">0x157</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">16</span><span class="nl">d1:</span>	<span class="nf">e8</span> <span class="no">f0</span> <span class="mi">05</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">call</span>   <span class="mh">1cc6</span> <span class="p">&lt;</span><span class="no">explode_bomb</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">16</span><span class="nl">d6:</span>	<span class="nf">b8</span> <span class="mi">70</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">mov</span>    <span class="no">$0x70</span><span class="p">,</span><span class="nv">%eax</span>
</span></span><span class="line"><span class="cl">    <span class="err">16</span><span class="nl">db:</span>	<span class="nf">e9</span> <span class="no">b4</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">jmp</span>    <span class="mh">1794</span> <span class="p">&lt;</span><span class="no">phase_3</span><span class="p">+</span><span class="mi">0x157</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">16</span><span class="nl">e0:</span>	<span class="nf">b8</span> <span class="mi">78</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">mov</span>    <span class="no">$0x78</span><span class="p">,</span><span class="nv">%eax</span>
</span></span><span class="line"><span class="cl">    <span class="err">16</span><span class="nl">e5:</span>	<span class="err">81</span> <span class="err">7</span><span class="nf">c</span> <span class="mi">24</span> <span class="mi">14</span> <span class="mi">40</span> <span class="mi">03</span> <span class="mi">00</span> 	<span class="no">cmpl</span>   <span class="no">$0x340</span><span class="p">,</span><span class="mi">0x14</span><span class="p">(</span><span class="nv">%rsp</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="err">16</span><span class="nl">ec:</span>	<span class="err">00</span> 
</span></span><span class="line"><span class="cl">    <span class="err">16</span><span class="nl">ed:</span>	<span class="err">0</span><span class="nf">f</span> <span class="mi">84</span> <span class="no">a1</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span>    	<span class="no">je</span>     <span class="mh">1794</span> <span class="p">&lt;</span><span class="no">phase_3</span><span class="p">+</span><span class="mi">0x157</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">16</span><span class="nl">f3:</span>	<span class="nf">e8</span> <span class="no">ce</span> <span class="mi">05</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">call</span>   <span class="mh">1cc6</span> <span class="p">&lt;</span><span class="no">explode_bomb</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">16</span><span class="nl">f8:</span>	<span class="nf">b8</span> <span class="mi">78</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">mov</span>    <span class="no">$0x78</span><span class="p">,</span><span class="nv">%eax</span>
</span></span><span class="line"><span class="cl">    <span class="err">16</span><span class="nl">fd:</span>	<span class="nf">e9</span> <span class="mi">92</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">jmp</span>    <span class="mh">1794</span> <span class="p">&lt;</span><span class="no">phase_3</span><span class="p">+</span><span class="mi">0x157</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">1702:</span>	<span class="nf">b8</span> <span class="mi">6</span><span class="no">e</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">mov</span>    <span class="no">$0x6e</span><span class="p">,</span><span class="nv">%eax</span>
</span></span><span class="line"><span class="cl">    <span class="err">1707:</span>	<span class="err">83</span> <span class="err">7</span><span class="nf">c</span> <span class="mi">24</span> <span class="mi">14</span> <span class="mi">39</span>       	<span class="no">cmpl</span>   <span class="no">$0x39</span><span class="p">,</span><span class="mi">0x14</span><span class="p">(</span><span class="nv">%rsp</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="err">170</span><span class="nl">c:</span>	<span class="err">0</span><span class="nf">f</span> <span class="mi">84</span> <span class="mi">82</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span>    	<span class="no">je</span>     <span class="mh">1794</span> <span class="p">&lt;</span><span class="no">phase_3</span><span class="p">+</span><span class="mi">0x157</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">1712:</span>	<span class="nf">e8</span> <span class="no">af</span> <span class="mi">05</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">call</span>   <span class="mh">1cc6</span> <span class="p">&lt;</span><span class="no">explode_bomb</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">1717:</span>	<span class="nf">b8</span> <span class="mi">6</span><span class="no">e</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">mov</span>    <span class="no">$0x6e</span><span class="p">,</span><span class="nv">%eax</span>
</span></span><span class="line"><span class="cl">    <span class="err">171</span><span class="nl">c:</span>	<span class="nf">eb</span> <span class="mi">76</span>                	<span class="no">jmp</span>    <span class="mh">1794</span> <span class="p">&lt;</span><span class="no">phase_3</span><span class="p">+</span><span class="mi">0x157</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">171</span><span class="nl">e:</span>	<span class="nf">b8</span> <span class="mi">74</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">mov</span>    <span class="no">$0x74</span><span class="p">,</span><span class="nv">%eax</span>
</span></span><span class="line"><span class="cl">    <span class="err">1723:</span>	<span class="err">81</span> <span class="err">7</span><span class="nf">c</span> <span class="mi">24</span> <span class="mi">14</span> <span class="no">c4</span> <span class="mi">03</span> <span class="mi">00</span> 	<span class="no">cmpl</span>   <span class="no">$0x3c4</span><span class="p">,</span><span class="mi">0x14</span><span class="p">(</span><span class="nv">%rsp</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="err">172</span><span class="nl">a:</span>	<span class="err">00</span> 
</span></span><span class="line"><span class="cl">    <span class="err">172</span><span class="nl">b:</span>	<span class="err">74</span> <span class="err">67</span>                	<span class="nf">je</span>     <span class="mh">1794</span> <span class="p">&lt;</span><span class="no">phase_3</span><span class="p">+</span><span class="mi">0x157</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">172</span><span class="nl">d:</span>	<span class="nf">e8</span> <span class="mi">94</span> <span class="mi">05</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">call</span>   <span class="mh">1cc6</span> <span class="p">&lt;</span><span class="no">explode_bomb</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">1732:</span>	<span class="nf">b8</span> <span class="mi">74</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">mov</span>    <span class="no">$0x74</span><span class="p">,</span><span class="nv">%eax</span>
</span></span><span class="line"><span class="cl">    <span class="err">1737:</span>	<span class="nf">eb</span> <span class="mi">5</span><span class="no">b</span>                	<span class="no">jmp</span>    <span class="mh">1794</span> <span class="p">&lt;</span><span class="no">phase_3</span><span class="p">+</span><span class="mi">0x157</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">1739:</span>	<span class="nf">b8</span> <span class="mi">67</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">mov</span>    <span class="no">$0x67</span><span class="p">,</span><span class="nv">%eax</span>
</span></span><span class="line"><span class="cl">    <span class="err">173</span><span class="nl">e:</span>	<span class="err">81</span> <span class="err">7</span><span class="nf">c</span> <span class="mi">24</span> <span class="mi">14</span> <span class="mi">95</span> <span class="mi">03</span> <span class="mi">00</span> 	<span class="no">cmpl</span>   <span class="no">$0x395</span><span class="p">,</span><span class="mi">0x14</span><span class="p">(</span><span class="nv">%rsp</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="err">1745:</span>	<span class="err">00</span> 
</span></span><span class="line"><span class="cl">    <span class="err">1746:</span>	<span class="err">74</span> <span class="err">4</span><span class="nf">c</span>                	<span class="no">je</span>     <span class="mh">1794</span> <span class="p">&lt;</span><span class="no">phase_3</span><span class="p">+</span><span class="mi">0x157</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">1748:</span>	<span class="nf">e8</span> <span class="mi">79</span> <span class="mi">05</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">call</span>   <span class="mh">1cc6</span> <span class="p">&lt;</span><span class="no">explode_bomb</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">174</span><span class="nl">d:</span>	<span class="nf">b8</span> <span class="mi">67</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">mov</span>    <span class="no">$0x67</span><span class="p">,</span><span class="nv">%eax</span>
</span></span><span class="line"><span class="cl">    <span class="err">1752:</span>	<span class="nf">eb</span> <span class="mi">40</span>                	<span class="no">jmp</span>    <span class="mh">1794</span> <span class="p">&lt;</span><span class="no">phase_3</span><span class="p">+</span><span class="mi">0x157</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">1754:</span>	<span class="nf">b8</span> <span class="mi">71</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">mov</span>    <span class="no">$0x71</span><span class="p">,</span><span class="nv">%eax</span>           <span class="c1"># a1小于7会跳转到这里 eax = 71,这里已经重新赋值了
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">1759:</span>	<span class="err">81</span> <span class="err">7</span><span class="nf">c</span> <span class="mi">24</span> <span class="mi">14</span> <span class="no">f2</span> <span class="mi">01</span> <span class="mi">00</span> 	<span class="no">cmpl</span>   <span class="no">$0x1f2</span><span class="p">,</span><span class="mi">0x14</span><span class="p">(</span><span class="nv">%rsp</span><span class="p">)</span>    <span class="c1"># 看第三个参数的值,不等于498就爆炸
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">1760:</span>	<span class="err">00</span> 
</span></span><span class="line"><span class="cl">    <span class="err">1761:</span>	<span class="err">74</span> <span class="err">31</span>                	<span class="nf">je</span>     <span class="mh">1794</span> <span class="p">&lt;</span><span class="no">phase_3</span><span class="p">+</span><span class="mi">0x157</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">1763:</span>	<span class="nf">e8</span> <span class="mi">5</span><span class="no">e</span> <span class="mi">05</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">call</span>   <span class="mh">1cc6</span> <span class="p">&lt;</span><span class="no">explode_bomb</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">1768:</span>	<span class="nf">b8</span> <span class="mi">71</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">mov</span>    <span class="no">$0x71</span><span class="p">,</span><span class="nv">%eax</span>
</span></span><span class="line"><span class="cl">    <span class="err">176</span><span class="nl">d:</span>	<span class="nf">eb</span> <span class="mi">25</span>                	<span class="no">jmp</span>    <span class="mh">1794</span> <span class="p">&lt;</span><span class="no">phase_3</span><span class="p">+</span><span class="mi">0x157</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">176</span><span class="nl">f:</span>	<span class="nf">b8</span> <span class="mi">6</span><span class="no">e</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">mov</span>    <span class="no">$0x6e</span><span class="p">,</span><span class="nv">%eax</span>
</span></span><span class="line"><span class="cl">    <span class="err">1774:</span>	<span class="err">81</span> <span class="err">7</span><span class="nf">c</span> <span class="mi">24</span> <span class="mi">14</span> <span class="mi">83</span> <span class="mi">03</span> <span class="mi">00</span> 	<span class="no">cmpl</span>   <span class="no">$0x383</span><span class="p">,</span><span class="mi">0x14</span><span class="p">(</span><span class="nv">%rsp</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="err">177</span><span class="nl">b:</span>	<span class="err">00</span> 
</span></span><span class="line"><span class="cl">    <span class="err">177</span><span class="nl">c:</span>	<span class="err">74</span> <span class="err">16</span>                	<span class="nf">je</span>     <span class="mh">1794</span> <span class="p">&lt;</span><span class="no">phase_3</span><span class="p">+</span><span class="mi">0x157</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">177</span><span class="nl">e:</span>	<span class="nf">e8</span> <span class="mi">43</span> <span class="mi">05</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">call</span>   <span class="mh">1cc6</span> <span class="p">&lt;</span><span class="no">explode_bomb</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">1783:</span>	<span class="nf">b8</span> <span class="mi">6</span><span class="no">e</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">mov</span>    <span class="no">$0x6e</span><span class="p">,</span><span class="nv">%eax</span>
</span></span><span class="line"><span class="cl">    <span class="err">1788:</span>	<span class="nf">eb</span> <span class="mi">0</span><span class="no">a</span>                	<span class="no">jmp</span>    <span class="mh">1794</span> <span class="p">&lt;</span><span class="no">phase_3</span><span class="p">+</span><span class="mi">0x157</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">178</span><span class="nl">a:</span>	<span class="nf">e8</span> <span class="mi">37</span> <span class="mi">05</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">call</span>   <span class="mh">1cc6</span> <span class="p">&lt;</span><span class="no">explode_bomb</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">178</span><span class="nl">f:</span>	<span class="nf">b8</span> <span class="mi">6</span><span class="no">e</span> <span class="mi">00</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">mov</span>    <span class="no">$0x6e</span><span class="p">,</span><span class="nv">%eax</span>
</span></span><span class="line"><span class="cl">    <span class="err">1794:</span>	<span class="err">38</span> <span class="err">44</span> <span class="err">24</span> <span class="err">0</span><span class="nf">f</span>          	<span class="no">cmp</span>    <span class="nv">%al</span><span class="p">,</span><span class="mi">0xf</span><span class="p">(</span><span class="nv">%rsp</span><span class="p">)</span>        <span class="c1"># 等于498的情况下来到这里,看输入的字符和al的值是否相等，查ASCII这里应该是G
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">1798:</span>	<span class="err">75</span> <span class="err">15</span>                	<span class="nf">jne</span>    <span class="mh">17af</span> <span class="p">&lt;</span><span class="no">phase_3</span><span class="p">+</span><span class="mi">0x172</span><span class="p">&gt;</span> <span class="c1"># 不相等爆炸
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">179</span><span class="nl">a:</span>	<span class="err">48</span> <span class="err">8</span><span class="nf">b</span> <span class="mi">44</span> <span class="mi">24</span> <span class="mi">18</span>       	<span class="no">mov</span>    <span class="mi">0x18</span><span class="p">(</span><span class="nv">%rsp</span><span class="p">),</span><span class="nv">%rax</span>      <span class="c1"># 第二个是q，OK结束，完全不知道具体的switch但是能做
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="err">179</span><span class="nl">f:</span>	<span class="err">64</span> <span class="err">48</span> <span class="err">2</span><span class="nf">b</span> <span class="mi">04</span> <span class="mi">25</span> <span class="mi">28</span> <span class="mi">00</span> 	<span class="no">sub</span>    <span class="nv">%fs</span><span class="p">:</span><span class="mi">0x28</span><span class="p">,</span><span class="nv">%rax</span>
</span></span><span class="line"><span class="cl">    <span class="err">17</span><span class="nl">a6:</span>	<span class="err">00</span> <span class="err">00</span> 
</span></span><span class="line"><span class="cl">    <span class="err">17</span><span class="nl">a8:</span>	<span class="err">75</span> <span class="err">0</span><span class="nf">c</span>                	<span class="no">jne</span>    <span class="mh">17b6</span> <span class="p">&lt;</span><span class="no">phase_3</span><span class="p">+</span><span class="mi">0x179</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">17</span><span class="nl">aa:</span>	<span class="err">48</span> <span class="err">83</span> <span class="nf">c4</span> <span class="mi">28</span>          	<span class="no">add</span>    <span class="no">$0x28</span><span class="p">,</span><span class="nv">%rsp</span>
</span></span><span class="line"><span class="cl">    <span class="err">17</span><span class="nl">ae:</span>	<span class="nf">c3</span>                   	<span class="no">ret</span>    
</span></span><span class="line"><span class="cl">    <span class="mi">17</span><span class="no">af</span><span class="p">:</span>	<span class="no">e8</span> <span class="mi">12</span> <span class="mi">05</span> <span class="mi">00</span> <span class="mi">00</span>       	<span class="no">call</span>   <span class="mh">1cc6</span> <span class="p">&lt;</span><span class="no">explode_bomb</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">17</span><span class="nl">b4:</span>	<span class="nf">eb</span> <span class="no">e4</span>                	<span class="no">jmp</span>    <span class="mh">179a</span> <span class="p">&lt;</span><span class="no">phase_3</span><span class="p">+</span><span class="mi">0x15d</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="err">17</span><span class="nl">b6:</span>	<span class="nf">e8</span> <span class="mi">95</span> <span class="no">fa</span> <span class="no">ff</span> <span class="no">ff</span>       	<span class="no">call</span>   <span class="mh">1250</span> <span class="p">&lt;</span><span class="no">__stack_chk_fail@plt</span><span class="p">&gt;</span>
</span></span></code></pre></div>

<h2 class="relative group">phase4: 
    <div id="phase4" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#phase4" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>关于递归函数？</p>
<p>这是phase4中调用的方法：</p>
<pre tabindex="0"><code class="language-assembly" data-lang="assembly">00000000000017bb &lt;func4&gt;:                                       # 开始的参数 edi:a1(x1) esi:0(x2) edx:14(x3) 设返回值为x
    17bb:	f3 0f 1e fa          	endbr64                     # 这应该是一个递归函数
    17bf:	53                   	push   %rbx                 # 临时变量 (temp)
    17c0:	89 d0                	mov    %edx,%eax            # x = x3
    17c2:	29 f0                	sub    %esi,%eax            # x -= x2
    17c4:	89 c3                	mov    %eax,%ebx            # temp = x
    17c6:	c1 eb 1f             	shr    $0x1f,%ebx           # 这里相当于是取了temp的符号
    17c9:	01 c3                	add    %eax,%ebx            # temp += x
    17cb:	d1 fb                	sar    %ebx                 # temp /= 2(这里就是默认省略了1,愚蠢)
    17cd:	01 f3                	add    %esi,%ebx            # temp += x2
    17cf:	39 fb                	cmp    %edi,%ebx            # 比较和x1相不相等
    17d1:	7f 06                	jg     17d9 &lt;func4+0x1e&gt;    # 如果大于&gt;
    17d3:	7c 10                	jl     17e5 &lt;func4+0x2a&gt;    # 如果小于&lt;
    17d5:	89 d8                	mov    %ebx,%eax            # x = temp
    17d7:	5b                   	pop    %rbx
    17d8:	c3                   	ret    
    17d9:	8d 53 ff             	lea    -0x1(%rbx),%edx      # 大于x1的情况 x3 = temp - 1
    17dc:	e8 da ff ff ff       	call   17bb &lt;func4&gt;         # 递归调用
    17e1:	01 c3                	add    %eax,%ebx            # temp += x
    17e3:	eb f0                	jmp    17d5 &lt;func4+0x1a&gt;    # 返回
    17e5:	8d 73 01             	lea    0x1(%rbx),%esi       # 小于的情况 x1 = temp + 1
    17e8:	e8 ce ff ff ff       	call   17bb &lt;func4&gt;         # 递归调用
    17ed:	01 c3                	add    %eax,%ebx            # temp += x
    17ef:	eb e4                	jmp    17d5 &lt;func4+0x1a&gt;    # 返回
</code></pre><pre tabindex="0"><code class="language-assembly" data-lang="assembly">00000000000017f1 &lt;phase_4&gt;:
    17f1:	f3 0f 1e fa          	endbr64 
    17f5:	48 83 ec 18          	sub    $0x18,%rsp               # 分配24个字节
    17f9:	64 48 8b 04 25 28 00 	mov    %fs:0x28,%rax            # 金丝雀值
    1800:	00 00 
    1802:	48 89 44 24 08       	mov    %rax,0x8(%rsp)           # 把金丝雀值放到了stack上面
    1807:	31 c0                	xor    %eax,%eax
    1809:	48 8d 4c 24 04       	lea    0x4(%rsp),%rcx           # 栈上参数传递 第四个参数 4字节 a2
    180e:	48 89 e2             	mov    %rsp,%rdx                # 第三个参数 4字节 a1
    1811:	48 8d 35 f0 1a 00 00 	lea    0x1af0(%rip),%rsi        # 参数格式：&#34;%d %d&#34;
    1818:	e8 e3 fa ff ff       	call   1300 &lt;__isoc99_sscanf@plt&gt;
    181d:	83 f8 02             	cmp    $0x2,%eax                # 是否读取正确
    1820:	75 06                	jne    1828 &lt;phase_4+0x37&gt;      # 不正确爆炸
    1822:	83 3c 24 0e          	cmpl   $0xe,(%rsp)              # a1 &lt;= 14不然爆炸
    1826:	76 05                	jbe    182d &lt;phase_4+0x3c&gt;
    1828:	e8 99 04 00 00       	call   1cc6 &lt;explode_bomb&gt;      # a1 &lt;= 14跳到这里 这里大概是为调用f4做准备
    182d:	ba 0e 00 00 00       	mov    $0xe,%edx                # 第三个参数是14
    1832:	be 00 00 00 00       	mov    $0x0,%esi                # 第二个参数是0
    1837:	8b 3c 24             	mov    (%rsp),%edi              # 第一个参数是a1
    183a:	e8 7c ff ff ff       	call   17bb &lt;func4&gt;             # 调用了f4,那就是说我们根据f4的逻辑来设置a1的输入
    183f:	83 f8 12             	cmp    $0x12,%eax               # 将返回值和18作比较
    1842:	75 07                	jne    184b &lt;phase_4+0x5a&gt;      # 不相同就爆炸
    1844:	83 7c 24 04 12       	cmpl   $0x12,0x4(%rsp)          # 把a2和18作比较
    1849:	74 05                	je     1850 &lt;phase_4+0x5f&gt;      # 不相同爆炸，相同结束
    184b:	e8 76 04 00 00       	call   1cc6 &lt;explode_bomb&gt;
    1850:	48 8b 44 24 08       	mov    0x8(%rsp),%rax
    1855:	64 48 2b 04 25 28 00 	sub    %fs:0x28,%rax
    185c:	00 00 
    185e:	75 05                	jne    1865 &lt;phase_4+0x74&gt;
    1860:	48 83 c4 18          	add    $0x18,%rsp
    1864:	c3                   	ret    
    1865:	e8 e6 f9 ff ff       	call   1250 &lt;__stack_chk_fail@plt&gt;
</code></pre><p>我对于fun4做了逆向：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-C" data-lang="C"><span class="line"><span class="cl"><span class="cp">#include</span><span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="c1">//手动逆向代码fun4
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="nf">fun4</span><span class="p">(</span><span class="kt">int</span> <span class="n">num1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num2</span><span class="p">,</span> <span class="kt">int</span> <span class="n">num3</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">num3</span> <span class="o">-</span> <span class="n">num2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">temp</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">        <span class="o">++</span><span class="n">temp</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">temp</span> <span class="o">/=</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">temp</span> <span class="o">+=</span> <span class="n">num2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">temp</span> <span class="o">&gt;</span> <span class="n">num1</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">        <span class="c1">//要注意调用完成之后获取的rax的使用（因为这里只调用但没有获取值浪费了很长时间）
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>       <span class="k">return</span> <span class="nf">fun4</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span> <span class="n">num2</span><span class="p">,</span> <span class="n">temp</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">temp</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">temp</span> <span class="o">&lt;</span> <span class="n">num1</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">       <span class="k">return</span> <span class="nf">fun4</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span> <span class="n">temp</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">num3</span><span class="p">)</span> <span class="o">+</span> <span class="n">temp</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span><span class="k">else</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">temp</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span> 
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">//就是给一个输入，使得返回值为0x12
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">num1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//scanf(&#34;%d&#34;, &amp;num1);
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">//当输入11时，答案为18,也就是answer
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kt">int</span> <span class="n">value</span> <span class="o">=</span> <span class="nf">fun4</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mh">0xe</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="nf">printf</span><span class="p">(</span><span class="s">&#34;%d</span><span class="se">\n</span><span class="s">&#34;</span><span class="p">,</span> <span class="n">value</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div>

<h2 class="relative group">phase5: 
    <div id="phase5" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#phase5" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<p>hint：我的输入和array之间的转换关系,也不是很难</p>
<p>phase5:</p>
<pre tabindex="0"><code class="language-assembly" data-lang="assembly">000000000000186a &lt;phase_5&gt;:
    186a:	f3 0f 1e fa          	endbr64 
    186e:	53                   	push   %rbx                     # 一个局部变量
    186f:	48 83 ec 10          	sub    $0x10,%rsp               # 开了16字节空间
    1873:	48 89 fb             	mov    %rdi,%rbx                # 局部变量存放rdi,rdi就是字符串的首地址
    1876:	64 48 8b 04 25 28 00 	mov    %fs:0x28,%rax            # 金丝雀值
    187d:	00 00 
    187f:	48 89 44 24 08       	mov    %rax,0x8(%rsp)           # 放在栈上，也就是说有8字节的可用空间
    1884:	31 c0                	xor    %eax,%eax                # 校验
    1886:	e8 06 03 00 00       	call   1b91 &lt;string_length&gt;     # 调用string_length,这里应该是rdi作为参数读入了一个string
    188b:	83 f8 06             	cmp    $0x6,%eax                # 返回值和6比较，不相等爆炸，输入的字符串的长度要是6才可以
    188e:	75 55                	jne    18e5 &lt;phase_5+0x7b&gt;
    1890:	b8 00 00 00 00       	mov    $0x0,%eax                # eax = 0？下面大概是为strings_not_equal做准备，不相等爆炸
    1895:	48 8d 0d 64 18 00 00 	lea    0x1864(%rip),%rcx        # maduiersnfotvbylWow! You&#39;ve defused the secret stage!
    189c:	0f b6 14 03          	movzbl (%rbx,%rax,1),%edx       # 就是我输入数字,从上面这个stirng中找值，构造一个rdi                                                             
    18a0:	83 e2 0f             	and    $0xf,%edx
    18a3:	0f b6 14 11          	movzbl (%rcx,%rdx,1),%edx
    18a7:	88 54 04 01          	mov    %dl,0x1(%rsp,%rax,1)
    18ab:	48 83 c0 01          	add    $0x1,%rax
    18af:	48 83 f8 06          	cmp    $0x6,%rax                # rax就是一个index作为循环控制量
    18b3:	75 e7                	jne    189c &lt;phase_5+0x32&gt;
    18b5:	c6 44 24 07 00       	movb   $0x0,0x7(%rsp)           # 最后为我们构造的字符串添加了一个结束符号
    18ba:	48 8d 7c 24 01       	lea    0x1(%rsp),%rdi
    18bf:	48 8d 35 0c 18 00 00 	lea    0x180c(%rip),%rsi        # *rsi = &#34;bruins&#34; 通过上面的操作，*rdi要等于&#34;bruins&#34;怎么操作？
    18c6:	e8 e7 02 00 00       	call   1bb2 &lt;strings_not_equal&gt; # 意思就是两个字符串不相同就爆炸
    18cb:	85 c0                	test   %eax,%eax
    18cd:	75 1d                	jne    18ec &lt;phase_5+0x82&gt;
    18cf:	48 8b 44 24 08       	mov    0x8(%rsp),%rax
    18d4:	64 48 2b 04 25 28 00 	sub    %fs:0x28,%rax
    18db:	00 00 
    18dd:	75 14                	jne    18f3 &lt;phase_5+0x89&gt;
    18df:	48 83 c4 10          	add    $0x10,%rsp
    18e3:	5b                   	pop    %rbx
    18e4:	c3                   	ret    
    18e5:	e8 dc 03 00 00       	call   1cc6 &lt;explode_bomb&gt;
    18ea:	eb a4                	jmp    1890 &lt;phase_5+0x26&gt;
    18ec:	e8 d5 03 00 00       	call   1cc6 &lt;explode_bomb&gt;
    18f1:	eb dc                	jmp    18cf &lt;phase_5+0x65&gt;
    18f3:	e8 58 f9 ff ff       	call   1250 &lt;__stack_chk_fail@plt&gt;
</code></pre><p>我们不必细究它调用的两个方法的具体实现了，就和函数名字一样。我输入的string是&quot;M63487&quot;,因为实际上会和0xf作与运算，所以每个字符都是可选的。</p>


<h2 class="relative group">phase6: 
    <div id="phase6" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#phase6" aria-label="Anchor">#</a>
    </span>        
    
</h2>
<blockquote>
<p>[!CAUTION]</p>
<p>应该是最难的一层了，hint：链表，那就要用到结构体了吧。（做完：其实还好，只要你理解它在干什么。）</p></blockquote>
<pre tabindex="0"><code class="language-assembly" data-lang="assembly">00000000000018f8 &lt;phase_6&gt;:
    18f8:	f3 0f 1e fa          	endbr64                        # 关于链表操作,最逆天的一层，孩子们
    18fc:	41 57                	push   %r15                    # 6个局部变量,都是拿来干嘛的？？？
    18fe:	41 56                	push   %r14
    1900:	41 55                	push   %r13
    1902:	41 54                	push   %r12
    1904:	55                   	push   %rbp
    1905:	53                   	push   %rbx
    1906:	48 83 ec 78          	sub    $0x78,%rsp              # 分配120个bytes
    190a:	64 48 8b 04 25 28 00 	mov    %fs:0x28,%rax           # 金丝雀值
    1911:	00 00 
    1913:	48 89 44 24 68       	mov    %rax,0x68(%rsp)         # 放到栈上，有104个bytes是可用的
    1918:	31 c0                	xor    %eax,%eax               # 检测金丝雀值
    191a:	4c 8d 74 24 10       	lea    0x10(%rsp),%r14         # 此时r14存放的是rsp + 16的地址 
    191f:	4c 89 74 24 08       	mov    %r14,0x8(%rsp)          # 把rsp + 16的地址放在rsp + 8的位置
    1924:	4c 89 f6             	mov    %r14,%rsi               # 把rsp + 16的地址作为第二个参数
    1927:	e8 f2 03 00 00       	call   1d1e &lt;read_six_numbers&gt; # 读取了六个数字 rsp + 16 20 24 28 32 36放在这六个位置
    192c:	4d 89 f4             	mov    %r14,%r12               # r12中放 rsp + 16的地址
    192f:	41 bf 01 00 00 00    	mov    $0x1,%r15d              # r15 = 1
    1935:	4d 89 f5             	mov    %r14,%r13               # r13中放 rsp + 16的地址
    1938:	e9 c6 00 00 00       	jmp    1a03 &lt;phase_6+0x10b&gt;    # 跳转
    193d:	e8 84 03 00 00       	call   1cc6 &lt;explode_bomb&gt;
    1942:	e9 ce 00 00 00       	jmp    1a15 &lt;phase_6+0x11d&gt;
    1947:	48 83 c3 01          	add    $0x1,%rbx               # rbx刚刚为1,这里就是作为一个循环控制变量 ++index（第二层循环）
    194b:	83 fb 05             	cmp    $0x5,%ebx               # 和5比较
    194e:	0f 8f a7 00 00 00    	jg     19fb &lt;phase_6+0x103&gt;    # 如果大于5跳转
    1954:	41 8b 44 9d 00       	mov    0x0(%r13,%rbx,4),%eax   # r15小于5的情况：eax中存放 *(rsp + 4 * index)
    1959:	39 45 00             	cmp    %eax,0x0(%rbp)          # 和首元素做比较
    195c:	75 e9                	jne    1947 &lt;phase_6+0x4f&gt;     # 不相等跳转，相等直接爆炸
    195e:	e8 63 03 00 00       	call   1cc6 &lt;explode_bomb&gt;
    1963:	eb e2                	jmp    1947 &lt;phase_6+0x4f&gt;
    1965:	48 8b 54 24 08       	mov    0x8(%rsp),%rdx          # 至此输入检查已经结束,rdx = rsp + 16（不要想错了，这里存放的值是rsp + 16）
    196a:	48 83 c2 18          	add    $0x18,%rdx              # rdx = rsp + 36
    196e:	b9 07 00 00 00       	mov    $0x7,%ecx               # rcx = 7
    1973:	89 c8                	mov    %ecx,%eax               # eax = 7
    1975:	41 2b 04 24          	sub    (%r12),%eax             # eax为7减去数组中的元素
    1979:	41 89 04 24          	mov    %eax,(%r12)             # 再把这个减了之后的值加载回去
    197d:	49 83 c4 04          	add    $0x4,%r12               # 下一个数字
    1981:	4c 39 e2             	cmp    %r12,%rdx               # 检查终止条件
    1984:	75 ed                	jne    1973 &lt;phase_6+0x7b&gt;
    1986:	be 00 00 00 00       	mov    $0x0,%esi               # 现在输入的每个数字都成了它对于7的补 rsi = 0，假设输入2 6 1 5 4 3 此时的值就是 5 1 6 2 3 4 rsi = 0
    198b:	8b 4c b4 10          	mov    0x10(%rsp,%rsi,4),%ecx  # rcx = *(rsp + 16 + 4 * rsi) 为数组的第一个值
    198f:	b8 01 00 00 00       	mov    $0x1,%eax               # eax = 1
    1994:	48 8d 15 75 38 00 00 	lea    0x3875(%rip),%rdx       # gdb查看内存这里就是把一个链表的node1的地址加载给了rdx,尝试用gdb去查看链表的具体结构，大概就是结构体{value + key + nextAddress}
    199b:	83 f9 01             	cmp    $0x1,%ecx               # rcx处的值和1比较
    199e:	7e 0b                	jle    19ab &lt;phase_6+0xb3&gt;     # 小于等于1就跳转
    19a0:	48 8b 52 08          	mov    0x8(%rdx),%rdx          # rdx此时应该为节点指向的节点的地址
    19a4:	83 c0 01             	add    $0x1,%eax               # ++eax
    19a7:	39 c8                	cmp    %ecx,%eax               # rcx和 eax比较
    19a9:	75 f5                	jne    19a0 &lt;phase_6+0xa8&gt;     # 不相等跳转，直到数组的第一个值和链表第一个节点的值相等就跳转
    19ab:	48 89 54 f4 30       	mov    %rdx,0x30(%rsp,%rsi,8)  # *(rsp + 48 + 8 * rsi) = rdx 把这个地址存放在stack上面
    19b0:	48 83 c6 01          	add    $0x1,%rsi               # ++rsi
    19b4:	48 83 fe 06          	cmp    $0x6,%rsi               # 循环终止条件
    19b8:	75 d1                	jne    198b &lt;phase_6+0x93&gt;     # 不相等继续
    19ba:	48 8b 5c 24 30       	mov    0x30(%rsp),%rbx         # 现在我们已经把按照输入数字顺序节点指向的地址放在了栈上（人话？）rbx为第一个地址
    19bf:	48 8b 44 24 38       	mov    0x38(%rsp),%rax         # rax是第二个地址
    19c4:	48 89 43 08          	mov    %rax,0x8(%rbx)          # 以下就是把链表按照我们输入的顺序连接在一起，看不明白就画图
    19c8:	48 8b 54 24 40       	mov    0x40(%rsp),%rdx
    19cd:	48 89 50 08          	mov    %rdx,0x8(%rax)
    19d1:	48 8b 44 24 48       	mov    0x48(%rsp),%rax
    19d6:	48 89 42 08          	mov    %rax,0x8(%rdx)
    19da:	48 8b 54 24 50       	mov    0x50(%rsp),%rdx
    19df:	48 89 50 08          	mov    %rdx,0x8(%rax)
    19e3:	48 8b 44 24 58       	mov    0x58(%rsp),%rax
    19e8:	48 89 42 08          	mov    %rax,0x8(%rdx)
    19ec:	48 c7 40 08 00 00 00 	movq   $0x0,0x8(%rax)          # 0就是null节点
    19f3:	00 
    19f4:	bd 05 00 00 00       	mov    $0x5,%ebp                # rbp = 5
    19f9:	eb 35                	jmp    1a30 &lt;phase_6+0x138&gt;     # 连接完了之后跳转
    19fb:	49 83 c7 01          	add    $0x1,%r15                # 这是应该是第一层循环
    19ff:	49 83 c6 04          	add    $0x4,%r14                # 下一个
    1a03:	4c 89 f5             	mov    %r14,%rbp                # 在成功读取六个数字之后跳转到这里，rbp存放rsp + 16地址（第一次）
    1a06:	41 8b 06             	mov    (%r14),%eax              # 读取的第一个数字
    1a09:	83 e8 01             	sub    $0x1,%eax                # 读取的数字-1
    1a0c:	83 f8 05             	cmp    $0x5,%eax                # 和5作比较
    1a0f:	0f 87 28 ff ff ff    	ja     193d &lt;phase_6+0x45&gt;      # 大于5爆炸（这意味着不能输入大于6的数字）
    1a15:	41 83 ff 05          	cmp    $0x5,%r15d               # r15刚刚赋值为1,现在和5作比较
    1a19:	0f 8f 46 ff ff ff    	jg     1965 &lt;phase_6+0x6d&gt;      # 大于5跳转（到这里为止，经过了一个类似于冒泡排序的比较，这意味着我们输入的数字不能有重复的也不能大于6）
    1a1f:	4c 89 fb             	mov    %r15,%rbx                # rbx = 1   
    1a22:	e9 2d ff ff ff       	jmp    1954 &lt;phase_6+0x5c&gt;      
    1a27:	48 8b 5b 08          	mov    0x8(%rbx),%rbx
    1a2b:	83 ed 01             	sub    $0x1,%ebp
    1a2e:	74 11                	je     1a41 &lt;phase_6+0x149&gt;		
    1a30:	48 8b 43 08          	mov    0x8(%rbx),%rax           # 连接之后在这里 
    1a34:	8b 00                	mov    (%rax),%eax
    1a36:	39 03                	cmp    %eax,(%rbx)
    1a38:	7d ed                	jge    1a27 &lt;phase_6+0x12f&gt;		# 也就是说链表必须是递增还是递减的一个顺序？
    1a3a:	e8 87 02 00 00       	call   1cc6 &lt;explode_bomb&gt;
    1a3f:	eb e6                	jmp    1a27 &lt;phase_6+0x12f&gt;
    1a41:	48 8b 44 24 68       	mov    0x68(%rsp),%rax
    1a46:	64 48 2b 04 25 28 00 	sub    %fs:0x28,%rax
    1a4d:	00 00 
    1a4f:	75 0f                	jne    1a60 &lt;phase_6+0x168&gt;
    1a51:	48 83 c4 78          	add    $0x78,%rsp
    1a55:	5b                   	pop    %rbx
    1a56:	5d                   	pop    %rbp
    1a57:	41 5c                	pop    %r12
    1a59:	41 5d                	pop    %r13
    1a5b:	41 5e                	pop    %r14
    1a5d:	41 5f                	pop    %r15
    1a5f:	c3                   	ret    
    1a60:	e8 eb f7 ff ff       	call   1250 &lt;__stack_chk_fail@plt&gt;
</code></pre><p>不容易，终于写完了。</p>

          
          
          
        </div>
        
        

          
            
            
<div class="flex author">
  
    
    
      
    
    
      
        
      
      <img class="!mt-0 !mb-0 h-24 w-24 rounded-full ltr:mr-4 rtl:ml-4" width="96" height="96"
      alt="mio" src="/img/blowfish_logo_hu_2d15729eafedea4d.png" />
    
  
  <div class="place-self-center">
    
    <div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">
      Author
    </div>
    <div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">
      mio
    </div>
    
    
    <div class="text-sm text-neutral-700 dark:text-neutral-400">I&rsquo;m Just A Student&hellip;</div>
    
    <div class="text-2xl sm:text-lg">
  <div class="flex flex-wrap text-neutral-400 dark:text-neutral-500">
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="nunotabashinobu066@gmail.com"
          target="_blank"
          aria-label="Email"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1c-27.64 140.9 68.65 266.2 199.1 285.1c19.01 2.888 36.17-12.26 36.17-31.49l.0001-.6631c0-15.74-11.44-28.88-26.84-31.24c-84.35-12.98-149.2-86.13-149.2-174.2c0-102.9 88.61-185.5 193.4-175.4c91.54 8.869 158.6 91.25 158.6 183.2l0 16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98 .0036c-7.299 0-13.2 4.992-15.12 11.68c-24.85-12.15-54.24-16.38-86.06-5.106c-38.75 13.73-68.12 48.91-73.72 89.64c-9.483 69.01 43.81 128 110.9 128c26.44 0 50.43-9.544 69.59-24.88c24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3C495.1 107.1 361.2-9.332 207.8 20.73zM239.1 304.3c-26.47 0-48-21.56-48-48.05s21.53-48.05 48-48.05s48 21.56 48 48.05S266.5 304.3 239.1 304.3z"/></svg>

  </span>

</span></a
        >
      
    
  </div>

</div>
  </div>
</div>

          

          

          
          <div class="mb-10"></div>
          

        

        
        

          
      </div>
     
      
      
        
        
          
          
        
      <script>
        var oid = "views_csapp\/CSAPP:BombLab\/index.md"
        var oid_likes = "likes_csapp\/CSAPP:BombLab\/index.md"
      </script>
      
      
      <script type="text/javascript" src="/js/page.min.0860cf4e04fa2d72cc33ddba263083464d48f67de06114529043cb4623319efed4f484fd7f1730df5abea0e2da6f3538855634081d02f2d6e920b956f063e823.js" integrity="sha512-CGDPTgT6LXLMM926JjCDRk1I9n3gYRRSkEPLRiMxnv7U9IT9fxcw31q&#43;oOLabzU4hVY0CB0C8tbpILlW8GPoIw=="></script>
      
  
    </section>
  <footer class="pt-8 max-w-prose print:hidden">

    
  
    
    
    
    <div class="pt-8">
      <hr class="border-dotted border-neutral-300 dark:border-neutral-600" />
      <div class="flex justify-between pt-3">
        <span>
          
        </span>
        <span>
          
            <a class="flex text-right group ml-3" href="/csapp/computerorgnization/">
              <span class="flex flex-col">
                <span
                  class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >ComputerOrgnization</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                    <time datetime="2025-03-10T12:35:52&#43;08:00">10 March 2025</time>
                  
                </span>
              </span>
              <span
                class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400"
                >&rarr;</span
              >
              <span
                class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400"
                >&larr;</span
              >
            </a>
          
        </span>
      </div>
    </div>
  


    
  </footer>
</article>

      <div id="top-scroller" class="pointer-events-none absolute top-[110vh] bottom-0 w-12 ltr:right-0 rtl:left-0">
  <a href="#the-top"
    class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
    aria-label="Scroll to top" title="Scroll to top">
    &uarr;
  </a>
</div>
    </main><footer id="site-footer" class="py-10 print:hidden">
  
  
    
    <nav class="flex flex-row pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400">
      <ul class="flex flex-col list-none sm:flex-row">
        
        <li class="flex mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0">
          <a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href="/reading/"
            title="">
            
            Reading
          </a>
        </li>
        
      </ul>
    </nav>
    
  
  <div class="flex items-center justify-between">

    
    
    <p class="text-sm text-neutral-500 dark:text-neutral-400">
      &copy;
      2025
      mio
    </p>
    

    
    
    <p class="text-xs text-neutral-500 dark:text-neutral-400">
      
      
      Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
        href="https://gohugo.io/" target="_blank" rel="noopener noreferrer">Hugo</a> &amp; <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
        href="https://blowfish.page/" target="_blank" rel="noopener noreferrer">Blowfish</a>
    </p>
    

  </div>
  <script>
    
    mediumZoom(document.querySelectorAll("img:not(.nozoom)"), {
      margin: 24,
      background: 'rgba(0,0,0,0.5)',
      scrollOffset: 0,
    })
    
  </script>
  
  
  <script type="text/javascript" src="/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js" integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh&#43;sCQ0E53ghYrxgYqw&#43;0GCRyIEpA=="></script>
  
  
</footer>
<div
  id="search-wrapper"
  class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]"
  data-url="http://localhost:45029/"
  style="z-index:500"
>
  <div
    id="search-modal"
    class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"
  >
    <header class="relative z-10 flex items-center justify-between flex-none px-2">
      <form class="flex items-center flex-auto min-w-0">
        <div class="flex items-center justify-center w-8 h-8 text-neutral-400">
          

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


        </div>
        <input
          type="search"
          id="search-query"
          class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder="Search"
          tabindex="0"
        />
      </form>
      <button
        id="close-search-button"
        class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title="Close (Esc)"
      >
        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>


      </button>
    </header>
    <section class="flex-auto px-2 overflow-auto">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

  </div>
</body>

</html>
